{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jayma/Downloads/jrq/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/jayma/Downloads/jrq/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{PRODUCT_CREATE_REVIEW_FAIL,PRODUCT_CREATE_REVIEW_REQUEST,PRODUCT_CREATE_REVIEW_SUCCESS,PRODUCT_DETAILS_FAIL,PRODUCT_DETAILS_REQUEST,PRODUCT_DETAILS_SUCCESS,PRODUCT_LIST_FAIL,PRODUCT_LIST_REQUEST,PRODUCT_LIST_SUCCESS}from\"../Constants/ProductConstants\";import{logout}from\"./userActions\";// PRODUCT LIST\nexport var listProduct=function listProduct(){var keyword=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\" \";var pageNumber=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\" \";return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:PRODUCT_LIST_REQUEST});_context.next=4;return axios.get(\"/api/products?keyword=\".concat(keyword,\"&pageNumber=\").concat(pageNumber));case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:PRODUCT_LIST_SUCCESS,payload:data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);dispatch({type:PRODUCT_LIST_FAIL,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// SINGLE PRODUCT\nexport var listProductDetails=function listProductDetails(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var _yield$axios$get2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:PRODUCT_DETAILS_REQUEST});_context2.next=4;return axios.get(\"/api/products/\".concat(id));case 4:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;dispatch({type:PRODUCT_DETAILS_SUCCESS,payload:data});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);dispatch({type:PRODUCT_DETAILS_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 12:case\"end\":return _context2.stop();}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// PRODUCT REVIEW CREATE\nexport var createProductReview=function createProductReview(productId,review){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch,getState){var _getState,userInfo,config,message;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:PRODUCT_CREATE_REVIEW_REQUEST});_getState=getState(),userInfo=_getState.userLogin.userInfo;config={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(userInfo.token)}};_context3.next=6;return axios.post(\"/api/products/\".concat(productId,\"/review\"),review,config);case 6:dispatch({type:PRODUCT_CREATE_REVIEW_SUCCESS});_context3.next=14;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);message=_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message;if(message===\"Not authorized, token failed\"){dispatch(logout());}dispatch({type:PRODUCT_CREATE_REVIEW_FAIL,payload:message});case 14:case\"end\":return _context3.stop();}},_callee3,null,[[0,9]]);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","logout","listProduct","keyword","arguments","length","undefined","pageNumber","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","_yield$axios$get","data","wrap","_callee$","_context","prev","next","type","get","concat","sent","payload","t0","response","message","stop","_x","apply","listProductDetails","id","_ref2","_callee2","_yield$axios$get2","_callee2$","_context2","_x2","createProductReview","productId","review","_ref3","_callee3","getState","_getState","userInfo","config","_callee3$","_context3","userLogin","headers","Authorization","token","post","_x3","_x4"],"sources":["C:/Users/jayma/Downloads/jrq/frontend/src/Redux/Actions/ProductActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  PRODUCT_CREATE_REVIEW_FAIL,\r\n  PRODUCT_CREATE_REVIEW_REQUEST,\r\n  PRODUCT_CREATE_REVIEW_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n} from \"../Constants/ProductConstants\";\r\nimport { logout } from \"./userActions\";\r\n\r\n// PRODUCT LIST\r\nexport const listProduct =\r\n  (keyword = \" \", pageNumber = \" \") =>\r\n  async (dispatch) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_LIST_REQUEST });\r\n      const { data } = await axios.get(\r\n        `/api/products?keyword=${keyword}&pageNumber=${pageNumber}`\r\n      );\r\n      dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: PRODUCT_LIST_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n\r\n// SINGLE PRODUCT\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n    const { data } = await axios.get(`/api/products/${id}`);\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// PRODUCT REVIEW CREATE\r\nexport const createProductReview =\r\n  (productId, review) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_CREATE_REVIEW_REQUEST });\r\n\r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState();\r\n\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n\r\n      await axios.post(`/api/products/${productId}/review`, review, config);\r\n      dispatch({ type: PRODUCT_CREATE_REVIEW_SUCCESS });\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message;\r\n      if (message === \"Not authorized, token failed\") {\r\n        dispatch(logout());\r\n      }\r\n      dispatch({\r\n        type: PRODUCT_CREATE_REVIEW_FAIL,\r\n        payload: message,\r\n      });\r\n    }\r\n  };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}